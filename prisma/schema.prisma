generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Theme {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  label       String   @unique
  iconName    String
  description String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model User {
  id                String   @id @default(auto()) @map("_id") @db.ObjectId
  name              String?
  email             String?  @unique
  emailVerified     Boolean?
  photo             String?
  password          String?
  isAdmin           Boolean  @default(false)
  wishlistIds       String[] @db.ObjectId
  type              String?
  provider          String?
  providerAccountId String?
  refresh_token     String?  @db.String
  access_token      String?  @db.String
  expires_at        Int?
  token_type        String?
  scope             String?
  id_token          String?  @db.String
  session_state     String?
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  listings Packages[]

  @@unique([provider, providerAccountId])
}

model Packages {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  title       String
  description String
  imageSrc    String
  theme       String
  price       Int
  location    String
  days        Int
  nights      Int
  rating      Float
  discount    Int
  otherInfo   Json
  pickup      String
  drop        String
  itinerary   Json
  userId      String   @db.ObjectId
  createdAt   DateTime @default(now())

  user User @relation(fields: [userId], references: [id], onDelete: Cascade)
}
